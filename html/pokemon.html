<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Pokemon Details</title>
    <link href="/css/PokeDetail.css" rel="stylesheet" />

</head>

<body>
    <select class="page-select" id="page-select" onchange="redirectToPage()">
        <option value="">Escolha</option>
        <option value="/index.html">Menu</option>
        <option value="/index.html#NasaApi">Apis</option>
        
    </select>
    <div class="pokedetails" id="pokemon-details" align="center"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const pokemonId = urlParams.get('id');
        const getPokemonUrl = `https://pokeapi.co/api/v2/pokemon/${pokemonId}`;

        fetch(getPokemonUrl)
            .then(response => response.json())
            .then(pokemon => {
                const elementTypes = pokemon.types.map(typeInfo => typeInfo.type.name);
                const elementAbilities = pokemon.abilities.map(abilityInfo => abilityInfo.ability.name);
                const pokemonDetails = `
                    <h2>${pokemon.name}</h2>
                    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png" alt="${pokemon.name}" align="center"/>
                    <p class="card ${elementTypes[0]}">Type: ${elementTypes.join(' | ')}</p>
                    <p class="hPoke">Height: ${pokemon.height}m</p>
                    <p class="wPoke">Weight: ${pokemon.weight}kg</p>
                    <p class="abiPoke">Abilities: ${elementAbilities.join(' | ')}</p>
                `;
                document.getElementById('pokemon-details').innerHTML = pokemonDetails;
            })
            .catch(error => console.log(error));

        function redirectToPage() {
            const pageSelect = document.getElementById('page-select');
            const selectedValue = pageSelect.options[pageSelect.selectedIndex].value;

            if (selectedValue) {
                window.location.href = selectedValue;
            }
        }
    </script>
</body>

</html>